{"ast":null,"code":"import _regeneratorRuntime from\"/Users/minhyunglee/Desktop/Project/\\u110C\\u1175\\u11AB\\u1112\\u1162\\u11BC \\u110C\\u116E\\u11BC/MovieRank/movie-rank-front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _defineProperty from\"/Users/minhyunglee/Desktop/Project/\\u110C\\u1175\\u11AB\\u1112\\u1162\\u11BC \\u110C\\u116E\\u11BC/MovieRank/movie-rank-front/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _asyncToGenerator from\"/Users/minhyunglee/Desktop/Project/\\u110C\\u1175\\u11AB\\u1112\\u1162\\u11BC \\u110C\\u116E\\u11BC/MovieRank/movie-rank-front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/minhyunglee/Desktop/Project/\\u110C\\u1175\\u11AB\\u1112\\u1162\\u11BC \\u110C\\u116E\\u11BC/MovieRank/movie-rank-front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Card from\"../component/Card\";import React,{useCallback,useEffect,useState}from\"react\";import axios from\"axios\";import Loading from\"../component/Loading\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function CardContaioner(){var _useState=useState([[1]]),_useState2=_slicedToArray(_useState,2),newData=_useState2[0],setData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,1),poster=_useState4[0];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),title=_useState6[0],setTitle=_useState6[1];// 1~10위 제목이 들어감\nvar _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),isLoading=_useState8[0],setLoading=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isSelect=_useState10[0],setSelect=_useState10[1];var hash=new Map();var getPoster=useCallback(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(el,idx){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/naver/?query=\").concat(el,\"}\"));case 3:response=_context.sent;_context.next=6;return response.data;case 6:data=_context.sent;_context.next=9;return Object.assign(poster,_defineProperty({},idx,data[0].image));case 9:_context.next=11;return setLoading(false);case 11:_context.next=15;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,13]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}(),[poster]);var getData=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/kobis\"));case 3:response=_context2.sent;_context2.next=6;return response.data;case 6:data=_context2.sent;setData(data);_context2.next=12;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);})),[]);var getTitle=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var response,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/kobis/title\"));case 3:response=_context3.sent;_context3.next=6;return response.data;case 6:data=_context3.sent;getData();setTitle(data);_context3.next=13;break;case 11:_context3.prev=11;_context3.t0=_context3[\"catch\"](0);case 13:case\"end\":return _context3.stop();}}},_callee3,null,[[0,11]]);})),[getData]);useEffect(function(){getTitle();},[getTitle]);title.map(function(el){return getPoster(el,title.indexOf(el));});setTimeout(function(){setLoading(false);},1500);return/*#__PURE__*/_jsxs(_Fragment,{children:[isLoading?/*#__PURE__*/_jsx(Loading,{}):null,/*#__PURE__*/_jsx(\"div\",{className:\"header\"}),/*#__PURE__*/_jsx(\"div\",{className:\"title-wrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"\\uC624\\uB298\\uC758 \\uC601\\uD654 \\uC21C\\uC704\"})}),/*#__PURE__*/_jsx(\"section\",{className:\"slider-section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"wheel\",children:isLoading===false?/*#__PURE__*/_jsx(Card,{isSelect:isSelect,setSelect:setSelect,poster:poster,newData:newData}):null})}),/*#__PURE__*/_jsx(\"div\",{className:\"title-wrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"scroll-down\",children:[\"Scroll down\",/*#__PURE__*/_jsx(\"div\",{className:\"arrow\"})]})})]});}export default/*#__PURE__*/React.memo(CardContaioner);","map":{"version":3,"names":["Card","React","useCallback","useEffect","useState","axios","Loading","CardContaioner","newData","setData","poster","title","setTitle","isLoading","setLoading","isSelect","setSelect","hash","Map","getPoster","el","idx","get","process","env","REACT_APP_API_URL","response","data","Object","assign","image","getData","getTitle","map","indexOf","setTimeout","memo"],"sources":["/Users/minhyunglee/Desktop/Project/진행 중/MovieRank/movie-rank-front/src/container/CardContainer.js"],"sourcesContent":["import Card from \"../component/Card\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Loading from \"../component/Loading\";\n\nfunction CardContaioner() {\n  const [newData, setData] = useState([[1]]);\n  const [poster] = useState([]);\n  const [title, setTitle] = useState([]); // 1~10위 제목이 들어감\n  const [isLoading, setLoading] = useState(true);\n  const [isSelect, setSelect] = useState(false);\n  const hash = new Map();\n\n  const getPoster = useCallback(\n    async (el, idx) => {\n      try {\n        const response = await axios.get(\n          `${process.env.REACT_APP_API_URL}/naver/?query=${el}}`\n        );\n        const data = await response.data;\n        await Object.assign(poster, { [idx]: data[0].image });\n        // const img = [];\n        // hash.set(data[0].title, data[0].image);\n        // for (let [key, value] of hash) {\n        //   img.push(value);\n        // }\n\n        await setLoading(false);\n      } catch (error) {}\n    },\n    [poster]\n  );\n\n  const getData = useCallback(async () => {\n    try {\n      const response = await axios.get(\n        `${process.env.REACT_APP_API_URL}/kobis`\n      );\n      const data = await response.data;\n      setData(data);\n    } catch (error) {}\n  }, []);\n\n  const getTitle = useCallback(async () => {\n    try {\n      const response = await axios.get(\n        `${process.env.REACT_APP_API_URL}/kobis/title`\n      );\n      const data = await response.data;\n      getData();\n      setTitle(data);\n    } catch (error) {}\n  }, [getData]);\n\n  useEffect(() => {\n    getTitle();\n  }, [getTitle]);\n  title.map((el) => {\n    return getPoster(el, title.indexOf(el));\n  });\n  setTimeout(() => {\n    setLoading(false);\n  }, 1500);\n  return (\n    <>\n      {isLoading ? <Loading /> : null}\n\n      <div className=\"header\"></div>\n      <div className=\"title-wrap\">\n        <div className=\"title\">오늘의 영화 순위</div>\n      </div>\n      <section className=\"slider-section\">\n        <div className=\"wheel\">\n          {isLoading === false ? (\n            <Card\n              isSelect={isSelect}\n              setSelect={setSelect}\n              poster={poster}\n              newData={newData}\n            ></Card>\n          ) : null}\n        </div>\n      </section>\n      <div className=\"title-wrap\">\n        <div className=\"scroll-down\">\n          Scroll down\n          <div className=\"arrow\"></div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default React.memo(CardContaioner);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}