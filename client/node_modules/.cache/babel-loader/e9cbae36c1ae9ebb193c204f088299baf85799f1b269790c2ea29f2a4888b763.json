{"ast":null,"code":"import{gsap}from\"gsap\";import{Flip}from\"gsap/Flip\";import{ScrollTrigger}from\"gsap/ScrollTrigger\";export var effect=function effect(){gsap.registerPlugin(Flip);gsap.registerPlugin(ScrollTrigger);var wheel=document.querySelector(\".wheel\");var images=gsap.utils.toArray(\".wheel__card\");// image 들을 배열로 만들어 변수에 할당\ngsap.to(\".title\",{x:5,ease:\"power1.inOut\",repeat:-1,yoyo:true});gsap.to(\".title\",{y:5,ease:\"power1.inOut\",repeat:-1,yoyo:true});gsap.to(\".arrow\",{y:5,ease:\"power1.inOut\",repeat:-1,yoyo:true});// arrow 클래스를 y방향으로 5만큼 이동\nfunction setup(){var radius=wheel.offsetWidth/2;// wheel.offsetWidth : wheel 요소의 전체 크기\nvar center=wheel.offsetWidth/2;var total=images.length;var slice=2*Math.PI/total;// image 갯수로 slice 할당\nimages.forEach(function(item,i){var angle=i*slice;var x=center+radius*Math.sin(angle);var y=center-radius*Math.cos(angle);gsap.set(item,{rotation:angle+\"_rad\",xPercent:-50,yPercent:-50,x:x,y:y});});}// let x = 1000; // 1000일 때 가운데\n// let y = 0; // 일때 whell 제일 위에 위치, 값이 높아 질수록 중심으로 이동\n// set 메소드는 속성을 즉시 설정한다.(세팅)\n//  test 클래스 요소가 opacity가 1일때  gsap.to(test, 0.5, {opacity : 1});   opacity가 0에서 0.5초 동안 1로 변함\n//\n//  test 클래스 요소가 opacity가 1일때  gsap.from(test, 0.5, {opacity : 1});   opacity가 0에서 0.5초 동안 1로 변함\nsetup();window.addEventListener(\"resize\",setup);// 스크롤 회전\ngsap.to(\".wheel\",{rotate:function rotate(){return-360;},ease:\"none\",duration:images.length,scrollTrigger:{start:0,end:\"max\",scrub:1,snap:1/images.length,invalidateOnRefresh:true}});var cards=gsap.utils.toArray(\".wheel__card\");var header=document.querySelector(\".header\");var lastClickedCard;// cards.forEach((card) => {\n//   card.addEventListener(\"click\", (e) => {\n//     if (lastClickedCard) {\n//       putBack(e);\n//     }\n//     flip(e);\n//   });\n// });\n// header.addEventListener(\"click\", (e) => {\n//   if (!lastClickedCard) return;\n//   putBack(e);\n// });\n// // function putBack(e) {\n// //   let image = header.querySelector(\"img\");\n// //   let state = Flip.getState(image);\n// //   lastClickedCard.appendChild(image);\n// //   Flip.from(state, {\n// //     duration: 0.6,\n// //     ease: \"sine.out\",\n// //     absolute: true,\n// //   });\n// //   lastClickedCard = null;\n// // }\n// function flip(e) {\n//   let image = e.target.querySelector(\"img\");\n//   let state = Flip.getState(image);\n//   header.appendChild(image);\n//   image.classList.add(\"select\");\n//   Flip.from(state, {\n//     duration: 0.6,\n//     ease: \"sine.out\",\n//     absolute: true,\n//   });\n//   lastClickedCard = e.target;\n// }\n};","map":{"version":3,"names":["gsap","Flip","ScrollTrigger","effect","registerPlugin","wheel","document","querySelector","images","utils","toArray","to","x","ease","repeat","yoyo","y","setup","radius","offsetWidth","center","total","length","slice","Math","PI","forEach","item","i","angle","sin","cos","set","rotation","xPercent","yPercent","window","addEventListener","rotate","duration","scrollTrigger","start","end","scrub","snap","invalidateOnRefresh","cards","header","lastClickedCard"],"sources":["/Users/minhyunglee/Desktop/Project/진행 중/MovieRank/movie-rank-front/src/animation.js"],"sourcesContent":["import { gsap } from \"gsap\";\nimport { Flip } from \"gsap/Flip\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\n\nexport const effect = () => {\n  gsap.registerPlugin(Flip);\n  gsap.registerPlugin(ScrollTrigger);\n\n  let wheel = document.querySelector(\".wheel\");\n  let images = gsap.utils.toArray(\".wheel__card\"); // image 들을 배열로 만들어 변수에 할당\n  gsap.to(\".title\", { x: 5, ease: \"power1.inOut\", repeat: -1, yoyo: true });\n  gsap.to(\".title\", { y: 5, ease: \"power1.inOut\", repeat: -1, yoyo: true });\n  gsap.to(\".arrow\", { y: 5, ease: \"power1.inOut\", repeat: -1, yoyo: true });\n\n  // arrow 클래스를 y방향으로 5만큼 이동\n  function setup() {\n    let radius = wheel.offsetWidth / 2; // wheel.offsetWidth : wheel 요소의 전체 크기\n    let center = wheel.offsetWidth / 2;\n    let total = images.length;\n    let slice = (2 * Math.PI) / total; // image 갯수로 slice 할당\n\n    images.forEach((item, i) => {\n      let angle = i * slice;\n\n      let x = center + radius * Math.sin(angle);\n      let y = center - radius * Math.cos(angle);\n\n      gsap.set(item, {\n        rotation: angle + \"_rad\",\n        xPercent: -50,\n        yPercent: -50,\n        x: x,\n        y: y,\n      });\n    });\n  }\n\n  // let x = 1000; // 1000일 때 가운데\n  // let y = 0; // 일때 whell 제일 위에 위치, 값이 높아 질수록 중심으로 이동\n  // set 메소드는 속성을 즉시 설정한다.(세팅)\n  //  test 클래스 요소가 opacity가 1일때  gsap.to(test, 0.5, {opacity : 1});   opacity가 0에서 0.5초 동안 1로 변함\n  //\n  //  test 클래스 요소가 opacity가 1일때  gsap.from(test, 0.5, {opacity : 1});   opacity가 0에서 0.5초 동안 1로 변함\n\n  setup();\n\n  window.addEventListener(\"resize\", setup);\n  // 스크롤 회전\n  gsap.to(\".wheel\", {\n    rotate: () => -360,\n    ease: \"none\",\n    duration: images.length,\n    scrollTrigger: {\n      start: 0,\n      end: \"max\",\n      scrub: 1,\n      snap: 1 / images.length,\n      invalidateOnRefresh: true,\n    },\n  });\n\n  let cards = gsap.utils.toArray(\".wheel__card\");\n  let header = document.querySelector(\".header\");\n  let lastClickedCard;\n\n  // cards.forEach((card) => {\n  //   card.addEventListener(\"click\", (e) => {\n  //     if (lastClickedCard) {\n  //       putBack(e);\n  //     }\n  //     flip(e);\n  //   });\n  // });\n\n  // header.addEventListener(\"click\", (e) => {\n  //   if (!lastClickedCard) return;\n  //   putBack(e);\n  // });\n\n  // // function putBack(e) {\n  // //   let image = header.querySelector(\"img\");\n  // //   let state = Flip.getState(image);\n\n  // //   lastClickedCard.appendChild(image);\n\n  // //   Flip.from(state, {\n  // //     duration: 0.6,\n  // //     ease: \"sine.out\",\n  // //     absolute: true,\n  // //   });\n\n  // //   lastClickedCard = null;\n  // // }\n\n  // function flip(e) {\n\n  //   let image = e.target.querySelector(\"img\");\n\n  //   let state = Flip.getState(image);\n  //   header.appendChild(image);\n\n  //   image.classList.add(\"select\");\n  //   Flip.from(state, {\n  //     duration: 0.6,\n  //     ease: \"sine.out\",\n  //     absolute: true,\n  //   });\n\n  //   lastClickedCard = e.target;\n  // }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}